syntax = "proto3";
package sso.user_role;
option go_package = "sso.user_role.v1;user_role";

import "google/protobuf/timestamp.proto";

service UserRoleService {
  rpc AssignRoleToUser (UserRoleRequest) returns (UserRoleResponse);
  rpc RevokeRoleFromUser (UserRoleRequest) returns (UserRoleResponse);
  rpc ListUserRoles (ListUserRolesRequest) returns (ListUserRolesResponse);
}

message UserRoleResponse {
  bool success = 1;
  google.protobuf.Timestamp created_at = 2;  // Добавлено
  google.protobuf.Timestamp expires_at = 3;
  string message = 4;
}

message ListUserRolesResponse {
  message UserRole {
    string role_id = 1;
    google.protobuf.Timestamp created_at = 2;  // Когда роль была назначена
    google.protobuf.Timestamp expires_at = 3;
    string assigned_by = 4;
  }

  repeated UserRole roles = 1;
  int32 total_count = 2;
  int32 page = 3;
  int32 count = 4;
}